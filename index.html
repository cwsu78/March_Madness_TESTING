<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>March Madness 2025 Bracket</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --court-orange: #ff6b35;
            --court-blue: #004e89;
            --net-white: #f7f7f7;
            --ball-brown: #d4581e;
            --shadow: rgba(0, 0, 0, 0.15);
            --selected: #ffd23f;
        }

        body {
            font-family: 'Roboto Condensed', sans-serif;
            background: linear-gradient(135deg, var(--court-blue) 0%, #003566 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: slideDown 0.6s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 4rem;
            color: var(--court-orange);
            text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);
            letter-spacing: 4px;
            margin-bottom: 10px;
        }

        .header p {
            color: var(--net-white);
            font-size: 1.1rem;
            font-weight: 700;
        }

        .form-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px var(--shadow);
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .form-section h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            color: var(--court-blue);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--court-blue);
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            font-family: 'Roboto Condensed', sans-serif;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--court-orange);
        }

        .bracket-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            overflow-x: auto;
            box-shadow: 0 10px 30px var(--shadow);
            margin-bottom: 30px;
        }

        .region {
            margin-bottom: 40px;
        }

        .region-header {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            color: var(--court-orange);
            text-align: center;
            margin-bottom: 20px;
            letter-spacing: 3px;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);
        }

        .rounds {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            min-width: 900px;
        }

        .round {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .round-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            color: var(--court-orange);
            text-align: center;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .matchup {
            background: var(--net-white);
            border: 2px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .matchup:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--shadow);
        }

        .team {
            padding: 12px 15px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            font-weight: 700;
            position: relative;
        }

        .team:first-child {
            border-bottom: 1px solid #ddd;
        }

        .team:hover:not(.disabled) {
            background: rgba(255, 107, 53, 0.1);
        }

        .team.selected {
            background: var(--selected);
            border-left-color: var(--court-orange);
            color: var(--court-blue);
        }

        .team.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            background: #f5f5f5;
        }

        .seed {
            display: inline-block;
            background: var(--court-blue);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-size: 0.85rem;
            margin-right: 8px;
            font-weight: 700;
        }

        .final-four {
            margin-top: 40px;
        }

        .ff-rounds {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            max-width: 600px;
            margin: 0 auto;
        }

        .submit-section {
            text-align: center;
            margin-top: 40px;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--court-orange), var(--ball-brown));
            color: white;
            border: none;
            padding: 18px 60px;
            font-size: 1.5rem;
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 2px;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(212, 88, 30, 0.4);
            transition: all 0.3s;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(212, 88, 30, 0.6);
        }

        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .progress {
            background: var(--net-white);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 4px 15px var(--shadow);
        }

        .progress-bar {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            background: linear-gradient(to right, var(--court-orange), var(--ball-brown));
            height: 100%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }

        .instructions {
            background: rgba(255, 255, 255, 0.95);
            border-left: 4px solid var(--court-orange);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px var(--shadow);
        }

        .instructions h3 {
            font-family: 'Bebas Neue', sans-serif;
            color: var(--court-blue);
            margin-bottom: 10px;
            font-size: 1.5rem;
            letter-spacing: 1px;
        }

        .instructions ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        .success-message, .error-message {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2rem;
            margin-top: 20px;
            display: none;
            animation: slideDown 0.5s ease-out;
        }

        .success-message {
            background: #4caf50;
            color: white;
        }

        .error-message {
            background: #f44336;
            color: white;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üèÄ MARCH MADNESS 2025 üèÄ</h1>
        <p>Fill Out Your Bracket Below</p>
    </div>

    <div class="instructions">
        <h3>How to Fill Out Your Bracket:</h3>
        <ul>
            <li><strong>Click on teams</strong> to select winners in each matchup</li>
            <li><strong>Winners automatically advance</strong> to the next round</li>
            <li><strong>Complete all 63 games</strong> through the championship</li>
            <li><strong>Submit</strong> when you're done!</li>
        </ul>
    </div>

    <div class="form-section">
        <h2>Your Information</h2>
        <div class="input-group">
            <label for="name">Name *</label>
            <input type="text" id="name" required placeholder="Enter your full name">
        </div>
        <div class="input-group">
            <label for="email">Email (optional)</label>
            <input type="email" id="email" placeholder="your.email@example.com">
        </div>
    </div>

    <div class="progress">
        <strong>Bracket Completion:</strong> <span id="progress-text">0 of 63 games picked</span>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill" style="width: 0%">0%</div>
        </div>
    </div>

    <div class="bracket-container" id="bracket-container">
        <!-- Bracket generated by JavaScript -->
    </div>

    <div class="submit-section">
        <button class="submit-btn" id="submit-btn" disabled>Submit Bracket</button>
        <div class="success-message" id="success-message">‚úì Bracket submitted successfully! Good luck!</div>
        <div class="error-message" id="error-message">Please fill out your name and complete all 63 picks.</div>
    </div>

    <script>
        // Game structure: maps game number to its feeding games
        const gameFeeds = {
            // Round of 32 (games 33-48) fed by Round of 64 (games 1-32)
            33: [1, 2], 34: [3, 4], 35: [5, 6], 36: [7, 8],
            37: [9, 10], 38: [11, 12], 39: [13, 14], 40: [15, 16],
            41: [17, 18], 42: [19, 20], 43: [21, 22], 44: [23, 24],
            45: [25, 26], 46: [27, 28], 47: [29, 30], 48: [31, 32],
            
            // Sweet 16 (games 49-56) fed by Round of 32
            49: [33, 34], 50: [35, 36], 51: [37, 38], 52: [39, 40],
            53: [41, 42], 54: [43, 44], 55: [45, 46], 56: [47, 48],
            
            // Elite 8 (games 57-60) fed by Sweet 16
            57: [49, 50], 58: [51, 52], 59: [53, 54], 60: [55, 56],
            
            // Final Four (games 61-62) fed by Elite 8
            61: [57, 58], 62: [59, 60],
            
            // Championship (game 63) fed by Final Four
            63: [61, 62]
        };

        // Teams by region
        const regions = {
            EAST: { games: [1, 2, 3, 4, 5, 6, 7, 8], name: 'EAST' },
            WEST: { games: [9, 10, 11, 12, 13, 14, 15, 16], name: 'WEST' },
            SOUTH: { games: [17, 18, 19, 20, 21, 22, 23, 24], name: 'SOUTH' },
            MIDWEST: { games: [25, 26, 27, 28, 29, 30, 31, 32], name: 'MIDWEST' }
        };

        const seeds = [
            [1, 16], [8, 9], [5, 12], [4, 13],
            [6, 11], [3, 14], [7, 10], [2, 15]
        ];

        let picks = {};

        function generateBracket() {
            const container = document.getElementById('bracket-container');
            let html = '';

            // Generate each region
            Object.values(regions).forEach(region => {
                html += `<div class="region">`;
                html += `<div class="region-header">${region.name} REGION</div>`;
                html += `<div class="rounds">`;
                
                // Round of 64
                html += `<div class="round"><div class="round-title">Round of 64</div>`;
                region.games.forEach((gameNum, idx) => {
                    const [seed1, seed2] = seeds[idx];
                    html += `
                        <div class="matchup">
                            <div class="team" onclick="selectWinner(${gameNum}, 0)" data-game="${gameNum}" data-slot="0">
                                <span class="seed">${seed1}</span>${region.name} #${seed1}
                            </div>
                            <div class="team" onclick="selectWinner(${gameNum}, 1)" data-game="${gameNum}" data-slot="1">
                                <span class="seed">${seed2}</span>${region.name} #${seed2}
                            </div>
                        </div>
                    `;
                });
                html += `</div>`;

                // Round of 32
                html += `<div class="round"><div class="round-title">Round of 32</div>`;
                const r32Start = 32 + (region.games[0] - 1) / 8 * 4 + 1;
                for (let i = 0; i < 4; i++) {
                    const gameNum = r32Start + i;
                    html += `
                        <div class="matchup">
                            <div class="team disabled" onclick="selectWinner(${gameNum}, 0)" data-game="${gameNum}" data-slot="0">TBD</div>
                            <div class="team disabled" onclick="selectWinner(${gameNum}, 1)" data-game="${gameNum}" data-slot="1">TBD</div>
                        </div>
                    `;
                }
                html += `</div>`;

                // Sweet 16
                html += `<div class="round"><div class="round-title">Sweet 16</div>`;
                const s16Start = 48 + (region.games[0] - 1) / 8 * 2 + 1;
                for (let i = 0; i < 2; i++) {
                    const gameNum = s16Start + i;
                    html += `
                        <div class="matchup">
                            <div class="team disabled" onclick="selectWinner(${gameNum}, 0)" data-game="${gameNum}" data-slot="0">TBD</div>
                            <div class="team disabled" onclick="selectWinner(${gameNum}, 1)" data-game="${gameNum}" data-slot="1">TBD</div>
                        </div>
                    `;
                }
                html += `</div>`;

                // Elite 8
                html += `<div class="round"><div class="round-title">Elite 8</div>`;
                const e8Game = 56 + (region.games[0] - 1) / 8 + 1;
                html += `
                    <div class="matchup">
                        <div class="team disabled" onclick="selectWinner(${e8Game}, 0)" data-game="${e8Game}" data-slot="0">TBD</div>
                        <div class="team disabled" onclick="selectWinner(${e8Game}, 1)" data-game="${e8Game}" data-slot="1">TBD</div>
                    </div>
                `;
                html += `</div>`;

                html += `</div></div>`;
            });

            // Final Four
            html += `<div class="region final-four">`;
            html += `<div class="region-header">FINAL FOUR & CHAMPIONSHIP</div>`;
            html += `<div class="ff-rounds">`;
            
            // Final Four games
            html += `<div class="round"><div class="round-title">Final Four</div>`;
            html += `
                <div class="matchup">
                    <div class="team disabled" onclick="selectWinner(61, 0)" data-game="61" data-slot="0">TBD</div>
                    <div class="team disabled" onclick="selectWinner(61, 1)" data-game="61" data-slot="1">TBD</div>
                </div>
                <div class="matchup">
                    <div class="team disabled" onclick="selectWinner(62, 0)" data-game="62" data-slot="0">TBD</div>
                    <div class="team disabled" onclick="selectWinner(62, 1)" data-game="62" data-slot="1">TBD</div>
                </div>
            `;
            html += `</div>`;

            // Championship
            html += `<div class="round"><div class="round-title">Championship</div>`;
            html += `
                <div class="matchup">
                    <div class="team disabled" onclick="selectWinner(63, 0)" data-game="63" data-slot="0">TBD</div>
                    <div class="team disabled" onclick="selectWinner(63, 1)" data-game="63" data-slot="1">TBD</div>
                </div>
            `;
            html += `</div>`;

            html += `</div></div>`;

            container.innerHTML = html;
        }

        function selectWinner(gameNum, slot) {
            const teams = document.querySelectorAll(`[data-game="${gameNum}"]`);
            const selectedTeam = teams[slot];
            
            if (selectedTeam.classList.contains('disabled')) return;

            // Deselect both teams
            teams.forEach(t => t.classList.remove('selected'));
            
            // Select clicked team
            selectedTeam.classList.add('selected');
            
            // Store pick
            const teamName = selectedTeam.textContent.trim();
            picks[gameNum] = teamName;

            // Advance winner to next round
            advanceWinner(gameNum, teamName, slot);
            
            // Update progress
            updateProgress();
        }

        function advanceWinner(gameNum, teamName, slot) {
            // Find which game this feeds into
            for (const [nextGame, feeders] of Object.entries(gameFeeds)) {
                if (feeders.includes(gameNum)) {
                    const nextGameNum = parseInt(nextGame);
                    const nextSlot = feeders[0] === gameNum ? 0 : 1;
                    const nextTeams = document.querySelectorAll(`[data-game="${nextGameNum}"]`);
                    const targetTeam = nextTeams[nextSlot];
                    
                    if (targetTeam) {
                        targetTeam.textContent = teamName;
                        targetTeam.classList.remove('disabled');
                        targetTeam.classList.remove('selected');
                        
                        // Clear downstream picks if changing selection
                        clearDownstream(nextGameNum, nextSlot);
                    }
                    break;
                }
            }
        }

        function clearDownstream(gameNum, slot) {
            // If this team was previously selected and advanced, clear those picks
            for (const [nextGame, feeders] of Object.entries(gameFeeds)) {
                if (feeders.includes(gameNum)) {
                    const nextGameNum = parseInt(nextGame);
                    const teams = document.querySelectorAll(`[data-game="${nextGameNum}"]`);
                    const nextSlot = feeders[0] === gameNum ? 0 : 1;
                    
                    teams.forEach((t, i) => {
                        if (i === nextSlot) {
                            t.classList.remove('selected');
                        }
                    });
                    
                    delete picks[nextGameNum];
                    clearDownstream(nextGameNum, nextSlot);
                }
            }
        }

        function updateProgress() {
            const total = 63;
            const completed = Object.keys(picks).length;
            const percentage = Math.round((completed / total) * 100);

            document.getElementById('progress-text').textContent = `${completed} of ${total} games picked`;
            document.getElementById('progress-fill').style.width = `${percentage}%`;
            document.getElementById('progress-fill').textContent = `${percentage}%`;

            document.getElementById('submit-btn').disabled = completed !== total;
        }

        document.getElementById('submit-btn').addEventListener('click', function() {
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const errorMsg = document.getElementById('error-message');
            const successMsg = document.getElementById('success-message');

            errorMsg.style.display = 'none';
            successMsg.style.display = 'none';

            if (!name || Object.keys(picks).length !== 63) {
                errorMsg.style.display = 'block';
                errorMsg.scrollIntoView({ behavior: 'smooth' });
                return;
            }

            const bracketData = {
                timestamp: new Date().toISOString(),
                name: name,
                email: email,
                picks: picks
            };

            console.log('Bracket Data:', bracketData);

            // Here you would send to Google Sheets
            // For now, show success
            successMsg.style.display = 'block';
            successMsg.scrollIntoView({ behavior: 'smooth' });

            document.getElementById('name').disabled = true;
            document.getElementById('email').disabled = true;
            this.disabled = true;

            alert('Bracket submitted! Check console for data.');
        });

        // Initialize
        generateBracket();
    </script>
</body>
</html>
